<!DOCTYPE html>
<html lang="en">

<!-- <head> 태그 내 공통된 stylesheets 분리 -->
<head th:replace="~{stylesheets/head :: head (title='리뷰 작성')}"></head>

<style>
  /* 메인화면 */
  .main {
    padding: 10vh 0;
  }

  /* 타이틀 + 검색폼 */
  .main-section {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  /* 제목 */
  .main-title {
    font-size: 2rem;
    font-weight: 900;
  }

  /* 검색폼 input*/
  .main-searchform > input{
    width: 40%;
    padding: 0.3rem 0.5rem 0.3rem 0.5rem;
    border-width: 0;
    border: 1px solid #ADADAD;
    border-radius: 0.5rem;
    outline: none;
  }

  /* 검색버튼 */
  .btn-search {
    align-content: center;
    cursor: pointer;
  }

  /* 리뷰 작성 오른쪽 */
  /*#review-write *{*/
  /*  text-align: justify;*/
  /*}*/

  /* 제목 */
  .main-title {
    text-align: justify;
  }

  /* 제품 검색 */
  .select-product {
    display: flex;
    gap: 0.4rem;
  }

  /* 제품 검색 및 돋보기 버튼 */
  .select-product > p, .select-product > i {
    align-content: center;
  }

  /* 제품 검색란 */
  .select-product > input {
    width: 70%;
  }

  /* 리뷰 글자수 */
  .review-content p {
    text-align: end;
    font-size: small;
  }

  /* 구매위치 제목 */
  .location-title {
    display: flex;
    gap: 0.3rem;
  }


  /* 편의점 위치 글자 */
  .location-title p:last-child {
    font-size: x-small;
    color: #d9232d;
    align-content: center;
  }

  /* 카카오 맵 화면 */
  .kakao-map {
    width: 100%;
    height: 250px;
    background-color: gray;
  }

  /* 리뷰 사진 섹션*/
  .review-images, .image-title {
    display: flex;
    gap: 1rem;
  }

  /* 리뷰 이미지들 */
  .review-images div {
    width: 100px;
    height: 100px;
    border: 1px solid yellow;
    background-color: gray;
  }

  .review-images div:first-child {
    border: 1px solid yellow;
  }

  .stars-taste, .stars-price {
    display: flex;
    gap: 0.7rem;
  }

  .rating > * {
    align-content: center;
  }

  .stars i {
    color: #ffc107;
    margin-left: 0.1rem;
    font-size: 1.5rem;
  }

  /* 모달 */
  .btn-productname {
    text-align: end;
  }

  /* 모달 제품 검색 버튼 */
  .modal-body i {

  }

  /* 제품 결과 창 */
  .product-search {
    overflow-y: auto;
    text-align: justify;
  }

  /* 제품 결과 아이템 */
  .product-item {
    border: 1px solid #ADADAD;
    border-bottom: none;
    padding: 0.5rem;
  }

  .product-item:last-child {
    border-bottom: 1px solid #ADADAD;
  }



</style>

<body class="index-page">

<!-- 헤더 레이아웃 분리 -->
<header th:replace="~{layout/header::header}"></header>

<!-- 메인 부분 -->
<main class="main text-center">
  <div class="main-section">

      <div class="container">
        <div class="row gy-4">

          <!-- 리뷰 작성 왼쪽 -->
          <div id="review-write" class="col-lg-6">
            <h1 class="main-title">리뷰 작성</h1>

            <!-- 제품선택 -->
            <div class="select-product mt-4">
              <p>제품 선택</p>
              <input type="text" th:if="${productName != null}" th:data-productId="${productId}" th:value="${productName}" class="form-control" name="productName" disabled>
              <input type="text" th:if="${productName == null}" class="form-control" name="productName" data-bs-toggle="modal" data-bs-target="#search-modal" placeholder="원하는 제품명을 입력해주세요.">
            </div>

            <!-- 별점 -->
            <div class="rating-average-section mt-4">
              <!-- 맛 별점 -->
              <div class="stars-taste">
                <p>맛</p>
                <div id="taste-rating" class="stars">
                  <i class="bi bi-star" data-index="1"></i>
                  <i class="bi bi-star" data-index="2"></i>
                  <i class="bi bi-star" data-index="3"></i>
                  <i class="bi bi-star" data-index="4"></i>
                  <i class="bi bi-star" data-index="5"></i>
                </div>
              </div>

              <!-- 가격 별점 -->
              <div class="stars-price">
                <p>가격</p>
                <div id="price-rating" class="stars">
                  <i class="bi bi-star" data-index="1"></i>
                  <i class="bi bi-star" data-index="2"></i>
                  <i class="bi bi-star" data-index="3"></i>
                  <i class="bi bi-star" data-index="4"></i>
                  <i class="bi bi-star" data-index="5"></i>
                </div>
              </div>
            </div>

            <!-- 리뷰 작성란 -->
            <div class="review-content mt-4">
              <p><span class="text-num" style="color: #d9232d;">10</span>/100자</p>
              <textarea class="form-control" name="subject" placeholder="리뷰를 입력해주세요." maxlength="100"></textarea>
            </div>

            <!-- 구매위치 -->
            <div class="review-location mt-4">
              <div class="location-title">
                <p>구매위치</p>
                <p>GS25 여의도점</p>
              </div>
              <input type="text" class="form-control mt-2" name="subject" placeholder="편의점 위치를 입력해주세요." required="">
              <div id="map" class="kakao-map mt-2"></div>
            </div>
          </div>

          <!-- 리뷰 사진 첨부 -->
          <div id="review-section" class="col-lg-6">
            <div class="image-title">
              <p>사진첨부</p>
              <button type="button">첨부하기</button>
            </div>
            <div class="review-images mt-2">
              <div class="image1">대표사진</div>
              <div class="image2"></div>
              <div class="image3"></div>
            </div>
          </div>

        </div>
      </div>
  </div>

  <!-- 제품 검색 모달 -->
  <div class="modal" id="search-modal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">제품 검색</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3 d-flex gap-2">
            <input type="text" class="form-control" id="product-name" placeholder="제품명을 입력하세요.">
            <i class="fa-solid fa-magnifying-glass btn-search"></i>
          </div>
          <div class="mb-3 product-search">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
          <button type="button" class="btn btn-primary">저장</button>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- footer 레이아웃 분리 -->
<footer th:replace="~{layout/footer::footer}"></footer>

<!-- 공통 script 분리 -->
<div th:replace="~{scripts/scripts::scripts}"></div>

<!-- kakao maps api -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=59f5c92e8da50255a30ef20d44e71dcf&libraries=services"></script>

<script src="/assets/js/review-write.js"></script>

</body>
</html>